<!-- views/editProject.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Project | <%= project.title %></title>
  <link href="/css/main.css" rel="stylesheet" />
</head>
<body>
  <!-- Navbar (no page highlight) -->
  <%- include('partials/navbar', { page: '' }) %>

  <!-- Page Header -->
  <section class="hero bg-base-200 py-12">
    <div class="hero-content text-center">
      <h1 class="text-4xl font-bold">Edit Project: <%= project.title %></h1>
    </div>
  </section>

  <!-- Edit Project Form -->
  <main class="container mx-auto p-4">
    <form action="/solutions/editProject" method="POST" class="space-y-6">

      <!-- Hidden ID -->
      <input type="hidden" name="id" value="<%= project.id %>" />

      <!-- Title -->
      <div class="form-control">
        <label class="label" for="title">
          <span class="label-text">Title</span>
        </label>
        <input
          id="title"
          name="title"
          type="text"
          required
          class="input input-bordered w-full"
          value="<%= project.title %>"
        />
      </div>

      <!-- Feature Image URL -->
      <div class="form-control">
        <label class="label" for="feature_img_url">
          <span class="label-text">Feature Image URL</span>
        </label>
        <input
          id="feature_img_url"
          name="feature_img_url"
          type="url"
          required
          class="input input-bordered w-full"
          value="<%= project.feature_img_url %>"
        />
      </div>

      <!-- Sector -->
      <div class="form-control">
        <label class="label" for="sector_id">
          <span class="label-text">Sector</span>
        </label>
        <select
          id="sector_id"
          name="sector_id"
          required
          class="select select-bordered w-full"
        >
          <% sectors.forEach(sector => { %>
            <option
              value="<%= sector.id %>"
              <%= project.sector_id === sector.id ? 'selected' : '' %>
            >
              <%= sector.sector_name %>
            </option>
          <% }) %>
        </select>
      </div>

      <!-- Intro Short -->
      <div class="form-control">
        <label class="label" for="intro_short">
          <span class="label-text">Introduction (short)</span>
        </label>
        <textarea
          id="intro_short"
          name="intro_short"
          required
          class="textarea textarea-bordered w-full"
          rows="3"
        ><%= project.intro_short %></textarea>
      </div>

      <!-- Summary Short -->
      <div class="form-control">
        <label class="label" for="summary_short">
          <span class="label-text">Summary (short)</span>
        </label>
        <textarea
          id="summary_short"
          name="summary_short"
          required
          class="textarea textarea-bordered w-full"
          rows="3"
        ><%= project.summary_short %></textarea>
      </div>

      <!-- Impact -->
      <div class="form-control">
        <label class="label" for="impact">
          <span class="label-text">Impact</span>
        </label>
        <textarea
          id="impact"
          name="impact"
          required
          class="textarea textarea-bordered w-full"
          rows="4"
        ><%= project.impact %></textarea>
      </div>

      <!-- Original Source URL -->
      <div class="form-control">
        <label class="label" for="original_source_url">
          <span class="label-text">Original Source URL</span>
        </label>
        <input
          id="original_source_url"
          name="original_source_url"
          type="url"
          required
          class="input input-bordered w-full"
          value="<%= project.original_source_url %>"
        />
      </div>

      <!-- Buttons (centered, auto-width, spaced) -->
      <div class="flex justify-center space-x-4 mt-6">
        <button
          type="submit"
          class="btn btn-success btn-md"
        >
          Update Project
        </button>
        <a
          href="/solutions/deleteProject/<%= project.id %>"
          class="btn btn-error btn-md"
        >
          Delete Project
        </a>
      </div>

    </form>
  </main>
</body>
</html>
